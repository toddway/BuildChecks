<?xml version="1.0" encoding="UTF-8"?>
<pmd-cpd>
   <duplication lines="10" tokens="114">
      <file line="13"
            path="/Users/tway/dev/BuildChecks/src/main/kotlin/data/BitBucket1Datasource.kt"/>
      <file line="13"
            path="/Users/tway/dev/BuildChecks/src/main/kotlin/data/BitBucket2Datasource.kt"/>
      <codefragment><![CDATA[class BitBucket1Datasource(retrofit: Retrofit, val config : BuildConfig) : PostStatusUseCase.Datasource {
    override fun isRemote() = true

    override fun post(status: BuildStatus, message: String, key: String): Observable<Boolean> {
        val body = BitbucketBuildStatusBody(status.bitbucketFormat(), key, message, config.buildUrl, "")
        return service.postBuildStatus(config.git.commitHash, body).map { true }.onErrorReturn { false }
    }

    override fun isActive(): Boolean {
        return config.isPostActivated && config.baseUrl.contains("bitbucket") && !config.baseUrl.contains("2.0/")]]></codefragment>
   </duplication>
</pmd-cpd>